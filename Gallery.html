<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>School Gallery</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<style>
body{
  background:#f8f9fa;
  font-family:"Segoe UI",sans-serif;
}

/* NAVBAR GAP */
.school-gallery{
  padding-top:120px;
}

/* HEADING */
.school-gallery h2{
  color:#143a59;
}

/* FILTER TAGS */
.gallery-filters .btn{
  margin:5px;
  border-radius:30px;
  border:1px solid #143a59;
  color:#143a59;
  transition:.3s;
}
.gallery-filters .btn.active,
.gallery-filters .btn:hover{
  background:#143a59;
  color:#fff;
}

/* GALLERY CARD */
.gallery-card{
  overflow:hidden;
  border-radius:12px;
  background:#fff;
  box-shadow:0 6px 18px rgba(0,0,0,.1);
  cursor:pointer;
}
.gallery-card img{
  width:100%;
  height:250px;
  object-fit:cover;
  transition:transform .4s ease;
}
.gallery-card:hover img{
  transform:scale(1.08);
}

/* FADE EFFECT */
.gallery-container{
  position:relative;
}
.gallery-fade{
  position:absolute;
  inset:0;
  background:#f8f9fa;
  opacity:0;
  pointer-events:none;
  transition:.25s;
  z-index:5;
}
.gallery-fade.active{
  opacity:1;
}

/* MODAL */
.modal-content{
  background:#000;
}
.modal-body img{
  width:100%;
  max-height:80vh;
  object-fit:contain;
}

/* CLOSE BUTTON */
.modal-close{
  position:absolute;
  top:15px;
  right:15px;
  z-index:10;
}

/* NAV ARROWS */
.gallery-nav{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  font-size:32px;
  color:#fff;
  cursor:pointer;
  padding:10px;
  user-select:none;
}
.gallery-prev{ left:10px; }
.gallery-next{ right:10px; }
</style>
</head>

<body>

<section class="school-gallery py-5">
<div class="container">

  <div class="text-center mb-4">
    <h2 class="fw-bold">Our School Gallery</h2>
    <p class="text-muted">Moments that define learning & growth</p>
  </div>

  <!-- FILTER TAGS -->
  <div class="text-center mb-4 gallery-filters">
    <button class="btn active" data-filter="all">All</button>
    <button class="btn" data-filter="events">Events</button>
    <button class="btn" data-filter="sports">Sports</button>
    <button class="btn" data-filter="classroom">Classroom</button>
    <button class="btn" data-filter="annual">Annual Day</button>
  </div>

  <!-- GALLERY -->
  <div class="row g-4 gallery-container">
    <div class="gallery-fade"></div>

    <div class="col-lg-4 col-md-6 gallery-item events">
      <div class="gallery-card" data-img="./assets/e1.jpg">
        <img src="./assets/e1.jpg">
      </div>
    </div>

    <div class="col-lg-4 col-md-6 gallery-item events">
      <div class="gallery-card" data-img="./assets/e2.jpg">
        <img src="./assets/e2.jpg">
      </div>
    </div>

    <div class="col-lg-4 col-md-6 gallery-item events">
      <div class="gallery-card" data-img="./assets/e3.jpg">
        <img src="./assets/e3.jpg">
      </div>
    </div>

    <div class="col-lg-4 col-md-6 gallery-item sports">
      <div class="gallery-card" data-img="./assets/e4.jpg">
        <img src="./assets/e4.jpg">
      </div>
    </div>

    <div class="col-lg-4 col-md-6 gallery-item sports">
      <div class="gallery-card" data-img="./assets/e5.jfif">
        <img src="./assets/e5.jfif">
      </div>
    </div>

    <div class="col-lg-4 col-md-6 gallery-item sports">
      <div class="gallery-card" data-img="./assets/e6.jfif">
        <img src="./assets/e6.jfif">
      </div>
    </div>

    <div class="col-lg-4 col-md-6 gallery-item classroom">
      <div class="gallery-card" data-img="./assets/e7.jfif">
        <img src="./assets/e7.jfif">
      </div>
    </div>

    <div class="col-lg-4 col-md-6 gallery-item classroom">
      <div class="gallery-card" data-img="./assets/e8.jpg">
        <img src="./assets/e8.jpg">
      </div>
    </div>

    <div class="col-lg-4 col-md-6 gallery-item classroom">
      <div class="gallery-card" data-img="./assets/e9.avif">
        <img src="./assets/e9.avif">
      </div>
    </div>

    <div class="col-lg-4 col-md-6 gallery-item annual">
      <div class="gallery-card" data-img="./assets/e1.jpg">
        <img src="./assets/e1.jpg">
      </div>
    </div>

    <div class="col-lg-4 col-md-6 gallery-item annual">
      <div class="gallery-card" data-img="./assets/e2.jpg">
        <img src="./assets/e2.jpg">
      </div>
    </div>

    <div class="col-lg-4 col-md-6 gallery-item annual">
      <div class="gallery-card" data-img="./assets/e3.jpg">
        <img src="./assets/e3.jpg">
      </div>
    </div>

  </div>
</div>
</section>

<!-- MODAL -->
<div class="modal fade" id="galleryModal" tabindex="-1">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">

      <button type="button"
        class="btn-close btn-close-white modal-close"
        data-bs-dismiss="modal"></button>

      <div class="modal-body position-relative text-center">
        <span class="gallery-nav gallery-prev">&#10094;</span>
        <img id="modalImage">
        <span class="gallery-nav gallery-next">&#10095;</span>
      </div>

    </div>
  </div>
</div>

<script>
const buttons = document.querySelectorAll(".gallery-filters .btn");
const items = document.querySelectorAll(".gallery-item");
const fade = document.querySelector(".gallery-fade");

let currentIndex = 0;
let visibleImages = [];

/* FILTER */
buttons.forEach(btn=>{
  btn.onclick = ()=>{
    buttons.forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");

    fade.classList.add("active");
    const filter = btn.dataset.filter;

    setTimeout(()=>{
      items.forEach(item=>{
        item.style.display =
          filter==="all" || item.classList.contains(filter)
          ? "block" : "none";
      });
      fade.classList.remove("active");
    },200);
  };
});

/* MODAL */
const modal = new bootstrap.Modal(document.getElementById("galleryModal"));
const modalImg = document.getElementById("modalImage");

/* IMAGE CLICK */
document.querySelectorAll(".gallery-card").forEach(card=>{
  card.onclick = ()=>{
    visibleImages = [...document.querySelectorAll(".gallery-item")]
      .filter(item => item.style.display !== "none")
      .map(item => item.querySelector(".gallery-card").dataset.img);

    currentIndex = visibleImages.indexOf(card.dataset.img);
    modalImg.src = visibleImages[currentIndex];
    modal.show();
  };
});

/* NEXT */
document.querySelector(".gallery-next").onclick = ()=>{
  currentIndex = (currentIndex + 1) % visibleImages.length;
  modalImg.src = visibleImages[currentIndex];
};

/* PREV */
document.querySelector(".gallery-prev").onclick = ()=>{
  currentIndex = (currentIndex - 1 + visibleImages.length) % visibleImages.length;
  modalImg.src = visibleImages[currentIndex];
};
</script>

</body>
</html>
